"use strict";(self.webpackChunkwjftu_ds=self.webpackChunkwjftu_ds||[]).push([[6249],{8304:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"docker/kubernetes","title":"Kubernetes","description":"minikube \u5b89\u88c5","source":"@site/note/docker/kubernetes.md","sourceDirName":"docker","slug":"/docker/kubernetes","permalink":"/note/docker/kubernetes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Kubernetes","sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"Docker Compose","permalink":"/note/docker/docker_compose"},"next":{"title":"Java","permalink":"/note/java/"}}');var r=s(4848),t=s(8453);const d={title:"Kubernetes",sidebar_position:20},c="Kubernetes",o={},l=[{value:"Pod \u4e0e\u5bb9\u5668",id:"pod-\u4e0e\u5bb9\u5668",level:3},{value:"Controller",id:"controller",level:3}];function a(n){const e={a:"a",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"kubernetes",children:"Kubernetes"})}),"\n",(0,r.jsx)(e.p,{children:"minikube \u5b89\u88c5"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://minikube.sigs.k8s.io/docs/start/",children:"https://minikube.sigs.k8s.io/docs/start/"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5 ubuntu 22 \u4e3a\u4f8b"}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa docker \u7528\u6237\u5e76\u5b89\u88c5 docker"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"sudo useradd -m -s /bin/bash docker\nsudo passwd docker\nsudo usermod -aG sudo docker\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5b89\u88c5 docker",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.a,{href:"https://docs.docker.com/engine/install/ubuntu/",children:"https://docs.docker.com/engine/install/ubuntu/"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'# Add Docker\'s official GPG key:\nsudo apt-get update\nsudo apt-get install ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n\n# Add the repository to Apt sources:\necho \\\n  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\nsudo apt-get update\n\n# Install Docker\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Verify Installation\nsudo docker run hello-world\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"curl -LO https://github.com/kubernetes/minikube/releases/latest/download/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube && rm minikube-linux-amd64\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u542f\u52a8\u548c\u505c\u6b62"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"minikube start\nminikube stop\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5 kubectl"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/",children:"https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n\nkubectl version --client\nClient Version: v1.32.1\nKustomize Version: v5.5.0\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u8282\u70b9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl get nodes\nNAME       STATUS   ROLES           AGE    VERSION\nminikube   Ready    control-plane   127m   v1.32.0\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u670d\u52a1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl get svc\nNAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE\nkubernetes   ClusterIP   10.96.0.1        <none>        443/TCP        128m\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl get po -A\nNAMESPACE     NAME                               READY   STATUS    RESTARTS      AGE\nkube-system   coredns-668d6bf9bc-bwj9m           1/1     Running   0             56s\nkube-system   etcd-minikube                      1/1     Running   0             61s\nkube-system   kube-apiserver-minikube            1/1     Running   0             61s\nkube-system   kube-controller-manager-minikube   1/1     Running   0             61s\nkube-system   kube-proxy-cmmfw                   1/1     Running   0             56s\nkube-system   kube-scheduler-minikube            1/1     Running   0             62s\nkube-system   storage-provisioner                1/1     Running   1 (26s ago)   59s\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"apiVersion: apps/v1\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.26\n        ports:\n        - containerPort: 80\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 80\n      nodePort: 10000\n  type: NodePort\n"})}),"\n",(0,r.jsx)(e.p,{children:"secret"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"docker@GreenCloud:~$ echo '1234' > pass.txt\ndocker@GreenCloud:~$ kubectl create secret generic pass --from-file=pass.txt\nsecret/pass created\ndocker@GreenCloud:~$ kubectl get secrets\nNAME   TYPE     DATA   AGE\npass   Opaque   1      7s\n"})}),"\n",(0,r.jsx)(e.h3,{id:"pod-\u4e0e\u5bb9\u5668",children:"Pod \u4e0e\u5bb9\u5668"}),"\n",(0,r.jsx)(e.p,{children:"kubernetes \u4e2d\u6700\u5c0f\u7684\u8c03\u5ea6\u5355\u5143\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5e38\u89c1\u4f7f\u7528\u65b9\u5f0f\u6709 2 \u4e2d\uff1a\u8fd0\u884c\u5355\u4e2a\u5bb9\u5668\u7684 pod \u548c\u8fd0\u884c\u591a\u4e2a\u534f\u540c\u5bb9\u5668\u7684 pod"}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u901a\u5e38\u4e0d\u4f1a\u76f4\u63a5\u7ba1\u7406 pod \uff0c\u800c\u662f\u901a\u8fc7 deployment \u548c job \u7b49\u8d1f\u8f7d\u7ba1\u7406\uff0c\u5982\u679c\u8981\u8ddf\u8e2a\u72b6\u6001\u5219\u7528 statefulSet"}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u8be2 pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"# \u67e5\u8be2 pod \uff08\u9ed8\u8ba4\u547d\u540d\u7a7a\u95f4\uff09\nkubectl get po|pod|pods\n\n# \u67e5\u8be2\u6240\u6709\u547d\u540d\u7a7a\u95f4\nkubectl get pod -A\n\n# \u67e5\u8be2\u8be6\u7ec6\u4fe1\u606f\nkubectl get pod -o wide\n\n# \u76d1\u63a7\u72b6\u6001\nkubectl get pod -w\n\n# \u6307\u5b9a\u547d\u540d\u7a7a\u95f4\nkubectl get pod -n kube-system\n\n# \u67e5\u770b\u5e2e\u52a9\nkubectl get pod --help\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u624b\u52a8\u521b\u5efa\u4e00\u4e2a pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl run mynginx --image=nginx:1.27.3\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl describe pod mynginx\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4fbf\u643a mynginx.yml \u6587\u4ef6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"# api \u7248\u672c\napiVersion: v1\n# \u7c7b\u578b\nkind: Pod\n# \u5143\u6570\u636e\nmetadata:\n  name: mynginx\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.27.3\n    ports:\n    - containerPort: 80\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7 yml \u6587\u4ef6\u521b\u5efa pod \uff0c\u4f7f\u7528 kubectl create/apply \u547d\u4ee4\uff0c create \u53ea\u80fd\u521b\u5efa\u4e00\u6b21\uff0capply \u4e0d\u5b58\u5728\u4f1a\u521b\u5efa\uff0c\u5b58\u5728\u5219\u66f4\u65b0"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl apply -f nginx-pod.yml \npod/mynginx created\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5220\u9664 pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl delete pod mynginx\nkubectl delete -f nginx-pod.yml \n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u5165 pod \u7684\u5bb9\u5668"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl exec -it <pod name> -c <container name> -- <command>\n\n# \u4e0d\u6307\u5b9a\u5bb9\u5668\u5219\u8fdb\u5165 pod \u7684\u7b2c\u4e00\u4e2a\u5bb9\u5668\nkubectl exec -it mynginx -- /bin/bash\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u65e5\u5fd7"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"kubectl logs -f mynginx\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa\u5305\u542b\u591a\u4e2a\u5bb9\u5668\u7684 pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-redis\n  labels:\n    env: dev\n    name: nginx-redis\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.27.3\n    ports:\n    - containerPort: 80\n  - name: redis\n    image: redis:7.4\n    ports:\n    - containerPort: 6379\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl get pod\nNAME                     READY   STATUS    RESTARTS   AGE\nnginx-redis              2/2     Running   0          7s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u65e5\u5fd7"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"# redis \u5bb9\u5668\u65e5\u5fd7\nkubectl logs -f nginx-redis -c redis\n# nginx \u5bb9\u5668\u65e5\u5fd7\nkubectl logs -f nginx-redis -c nginx\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6807\u7b7e"}),"\n",(0,r.jsx)(e.p,{children:"\u6807\u7b7e\u7684\u503c\u4e3a 0-63 \u4e2a\u5b57\u7b26\uff0c\u652f\u6301\u5927\u5c0f\u5199\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u6a2a\u5c97\uff0c\u70b9\uff0c\u9700\u8981\u4ee5\u5b57\u6bcd\u5f00\u5934"}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5728\u521a\u624d\u7684 yml \u6587\u4ef6\u4e2d\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6807\u7b7e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-redis\n  labels:\n    env: dev\n    name: nginx-redis\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b pod"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl get po --show-labels\nNAME          READY   STATUS    RESTARTS   AGE   LABELS\nnginx-redis   2/2     Running   0          11s   env=dev,name=nginx-redis\n"})}),"\n",(0,r.jsx)(e.p,{children:"Pod \u7684\u751f\u547d\u5468\u671f"}),"\n",(0,r.jsx)(e.p,{children:"\u8d77\u59cb Pending\uff0c\u6b63\u5e38\u542f\u52a8 Running \uff0c\u6210\u529f\u6216\u5931\u8d25\u7ed3\u675f\u7684 Succeed Faild \uff0cunknown \u4f4d\u7f6e\u72b6\u6001\uff0c\u901a\u5e38\u662f\u4e0e\u8282\u70b9\u901a\u4fe1\u5931\u8d25"}),"\n",(0,r.jsx)(e.p,{children:"\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\uff1aWaiting \u4ecd\u7136\u6ca1\u6709\u5b8c\u5168\u542f\u52a8\uff0c Running \u6b63\u5728\u8fd0\u884c\uff0c\u4e14 postStart \u56de\u8c03\u5df2\u7ecf\u6267\u884c\uff0c Terminated \u5df2\u7ec8\u6b62\u4e14 preStop \u5df2\u7ecf\u6267\u884c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: life\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.27.3\n    lifecycle: \n      postStart:\n        exec:\n          command: ["/bin/sh", "-c", "echo postStart >> /start.txt"]\n      preStop:\n        exec:\n          command: ["/bin/sh", "-c", "echo preStop >> /stop.txt && sleep 50"]\n    ports:\n    - containerPort: 80\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u542f\u7b56\u7565"}),"\n",(0,r.jsxs)(e.p,{children:["\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"spec.restartPolicy"})," \u5b57\u6bb5\u914d\u7f6e\u91cd\u542f\u7b56\u7565\uff0c\u9002\u7528\u4e8e\u6240\u6709\u5bb9\u5668\u3002Always \u603b\u662f\u91cd\u542f\uff0c OnFailure \u5f02\u5e38\u9000\u51fa\u72b6\u6001\u975e 0 \u65f6\u91cd\u542f\uff0cNerver \u4e0d\u91cd\u542f\uff0c\u9ed8\u8ba4 Always"]}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa\u4e00\u4e2a pod \u7528\u4e8e\u6d4b\u8bd5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: policy\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.27.3\n  restartPolicy: Always\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u67e5\u770b\u5bb9\u5668\u3002\u53e6\u5916\u6253\u5f00\u4e00\u4e2a terminal \uff0c\u8fdb\u5165\u5bb9\u5668\u5e76\u505c\u6b62 ",(0,r.jsx)(e.code,{children:"nginx -s stop"}),"\uff0c\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a pod \u91cd\u65b0\u542f\u52a8"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl get po -w\nNAME     READY   STATUS    RESTARTS   AGE\npolicy   1/1     Running   0          10s\npolicy   0/1     Completed   0          45s\npolicy   1/1     Running     1 (2s ago)   47s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u8bbe\u4e3a Never \uff0c\u53ef\u4ee5\u89c2\u5bdf\u5230"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl get po -w\nNAME     READY   STATUS    RESTARTS   AGE\npolicy   1/1     Running   0          1s\npolicy   0/1     Completed   0          17s\npolicy   0/1     Completed   0          18s\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f20\u9012\u542f\u52a8\u53c2\u6570"}),"\n",(0,r.jsx)(e.p,{children:"Kubernetes \u53ef\u4ee5\u901a\u8fc7 command \u548c args \u6765\u4fee\u6539\u5bb9\u5668\u542f\u52a8\u9ed8\u8ba4\u547d\u4ee4\u548c\u4f20\u9012\u53c2\u6570"}),"\n",(0,r.jsxs)(e.p,{children:["\u5f00\u542f redis \u5bb9\u5668\u7684\u6301\u4e45\u5316\uff0c\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"redis-server --appendonly yes"})," \u4f5c\u4e3a\u542f\u52a8\u547d\u4ee4"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: redis-command\nspec:\n  containers:\n  - name: redis\n    image: redis:7.4\n    command: ["redis-server"]\n    args: ["--appendonly yes"]\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u9a8c\u8bc1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"$ kubectl exec -it redis-command -- ls\nappendonlydir\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8d44\u6e90\u9650\u5236"}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5bf9 cpu \u548c\u5185\u5b58\u8fdb\u884c\u8d44\u6e90\u9650\u5236\uff0c\u6709 2 \u79cd\u9650\u5236\uff1arequest \u53ef\u4ee5\u4f7f\u7528\u7684\u57fa\u7840\u8d44\u6e90\uff0c limit \u53ef\u4ee5\u4f7f\u7528\u7684\u6700\u5927\u8d44\u6e90\uff0c\u8d85\u8fc7\u6700\u5927\u8d44\u6e90\u4f1a\u88ab kill"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-limit\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.27.3\n    resources:\n      requests:\n        memory: "100Mi"\n        cpu: "500m"\n      limits:\n        memory: "200Mi"\n        cpu: "1"\n'})}),"\n",(0,r.jsx)(e.p,{children:"Init \u5bb9\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 pod \u5185\u5bb9\u5668\u542f\u52a8\u4e4b\u524d\u8fd0\u884c\uff0c\u8fdb\u884c\u4e00\u4e9b\u524d\u7f6e\u64cd\u4f5c\u3002\u5982\u679c Init \u5bb9\u5668\u5931\u8d25\uff0ckubernetes \u4f1a\u4e0d\u65ad\u91cd\u542f\u77e5\u9053\u6210\u529f\u4e3a\u6b62\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: testinit\nspec:\n  containers:\n  - name: init\n    image: busybox:1.36\n    command: ["sh", "-c", "echo the app is running! && sleep 3600"]\n    imagePullPolicy: IfNotPresent\n  initContainers:\n  - name: init-service\n    image: busybox:1.36\n    command: ["sh", "-c", "echo init service is running && sleep 5"]\n  - name: init-db\n    image: busybox:1.36\n    command: ["sh", "-c", "echo init db is running && sleep 5"]\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd0\u884c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'$ kubectl apply -f testinit.yml \npod/testinit created\n\n$ kubectl get po -w\nNAME       READY   STATUS     RESTARTS   AGE\ntestinit   0/1     Init:1/2   0          7s\ntestinit   0/1     Init:1/2   0          7s\ntestinit   0/1     PodInitializing   0          12s\ntestinit   1/1     Running           0          13s\n\n$ kubectl describe pod testinit\nEvents:\n  Type    Reason     Age   From               Message\n  ----    ------     ----  ----               -------\n  Normal  Scheduled  83s   default-scheduler  Successfully assigned default/testinit to minikube\n  Normal  Pulled     83s   kubelet            Container image "busybox:1.36" already present on machine\n  Normal  Created    83s   kubelet            Created container: init-service\n  Normal  Started    83s   kubelet            Started container init-service\n  Normal  Pulled     77s   kubelet            Container image "busybox:1.36" already present on machine\n  Normal  Created    77s   kubelet            Created container: init-db\n  Normal  Started    77s   kubelet            Started container init-db\n  Normal  Pulled     71s   kubelet            Container image "busybox:1.36" already present on machine\n  Normal  Created    71s   kubelet            Created container: init\n  Normal  Started    71s   kubelet            Started container init\n'})}),"\n",(0,r.jsx)(e.h3,{id:"controller",children:"Controller"}),"\n",(0,r.jsx)(e.p,{children:"\u63a7\u5236\u5668\u76d1\u63a7\u96c6\u7fa4\u7684\u72b6\u6001\uff0c\u5e76\u81f4\u529b\u4e8e\u5c06\u5f53\u524d\u72b6\u6001\u8f6c\u53d8\u4e3a\u671f\u671b\u7684\u72b6\u6001"}),"\n",(0,r.jsx)(e.p,{children:"\u5e38\u89c1\u7684 Controller \uff1aDeployment, Job, Daemonset, StatefulSet"}),"\n",(0,r.jsxs)(e.p,{children:["Deployment \u6700\u5e38\u7528\u7684 Controller",(0,r.jsx)(e.br,{}),"\n","Daemonset \u6700\u591a\u53ea\u8fd0\u884c\u4e00\u4e2a pod \u526f\u672c\u7684\u573a\u666f",(0,r.jsx)(e.br,{}),"\n","Statefulset pod \u7684\u540d\u79f0\u5728\u6574\u4e2a\u751f\u547d\u5468\u671f\u4e0d\u53d8\uff0c\u4fdd\u8bc1\u526f\u672c\u6309\u7167\u987a\u5e8f\u542f\u52a8\uff0c\u66f4\u65b0\uff0c\u5220\u9664",(0,r.jsx)(e.br,{}),"\n","Job \u8fd0\u884c\u7ed3\u675f\u5c31\u5220\u9664"]}),"\n",(0,r.jsx)(e.p,{children:"Controller \u901a\u8fc7 label \u5173\u8054 pod"})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>c});var i=s(6540);const r={},t=i.createContext(r);function d(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:d(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);