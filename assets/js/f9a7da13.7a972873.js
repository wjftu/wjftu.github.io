"use strict";(self.webpackChunkwjftu_ds=self.webpackChunkwjftu_ds||[]).push([[4789],{1649:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"designPattern/structural/proxy","title":"\u4ee3\u7406\u6a21\u5f0f","description":"\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u9700\u8981\u7ed9\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\u4ee5\u63a7\u5236\u5bf9\u8be5\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\u8bbf\u95ee\u5bf9\u8c61\u4e0d\u9002\u5408\u6216\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u76ee\u6807\u5bf9\u8c61\uff0c\u4ee3\u7406\u5bf9\u8c61\u5145\u5f53\u65b9\u4f4d\u5bf9\u8c61\u548c\u76ee\u6807\u5bf9\u8c61\u7684\u4e2d\u4ecb\u3002","source":"@site/note/designPattern/structural/proxy.md","sourceDirName":"designPattern/structural","slug":"/designPattern/structural/proxy","permalink":"/note/designPattern/structural/proxy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u9002\u914d\u5668\u6a21\u5f0f","permalink":"/note/designPattern/structural/adapter"},"next":{"title":"\u7b97\u6cd5\u5237\u9898","permalink":"/note/algorithmPractice/"}}');var a=e(4848),l=e(8453);const i={},o="\u4ee3\u7406\u6a21\u5f0f",c={},s=[{value:"\u9759\u6001\u4ee3\u7406",id:"\u9759\u6001\u4ee3\u7406",level:3},{value:"JDK \u52a8\u6001\u4ee3\u7406",id:"jdk-\u52a8\u6001\u4ee3\u7406",level:3},{value:"CGLib \u4ee3\u7406",id:"cglib-\u4ee3\u7406",level:3},{value:"\u4e09\u79cd\u4ee3\u7406\u5bf9\u6bd4",id:"\u4e09\u79cd\u4ee3\u7406\u5bf9\u6bd4",level:3}];function d(n){const r={code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"\u4ee3\u7406\u6a21\u5f0f",children:"\u4ee3\u7406\u6a21\u5f0f"})}),"\n",(0,a.jsx)(r.p,{children:"\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u9700\u8981\u7ed9\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\u4ee5\u63a7\u5236\u5bf9\u8be5\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\u8bbf\u95ee\u5bf9\u8c61\u4e0d\u9002\u5408\u6216\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u76ee\u6807\u5bf9\u8c61\uff0c\u4ee3\u7406\u5bf9\u8c61\u5145\u5f53\u65b9\u4f4d\u5bf9\u8c61\u548c\u76ee\u6807\u5bf9\u8c61\u7684\u4e2d\u4ecb\u3002"}),"\n",(0,a.jsx)(r.p,{children:"java\u7684\u4ee3\u7406\u6a21\u5f0f\u5206\u4e3a\u9759\u6001\u4ee3\u7406\u548c\u52a8\u6001\u4ee3\u7406\u3002\u9759\u6001\u4ee3\u7406\u5728\u7f16\u8bd1\u671f\u751f\u6210\uff0c\u52a8\u6001\u4ee3\u7406\u5219\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u751f\u6210\u3002\u52a8\u6001\u4ee3\u7406\u53c8\u5206\u4e3a JDK \u4ee3\u7406\u548c CGLib \u4ee3\u7406\u4e24\u79cd"}),"\n",(0,a.jsx)(r.p,{children:"\u4ee3\u7406\u6a21\u5f0f\u7684\u4e09\u79cd\u89d2\u8272\uff1a"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"\u62bd\u8c61\u4e3b\u9898\uff08subject\uff09\u7c7b\uff1a\u901a\u8fc7\u63a5\u53e3\u6216\u62bd\u8c61\u7c7b\u58f0\u660e\u771f\u5b9e\u4e3b\u9898\u548c\u4ee3\u7406\u5bf9\u8c61\u5b9e\u73b0\u7684\u4e1a\u52a1\u65b9\u6cd5\u3002"}),"\n",(0,a.jsx)(r.li,{children:"\u771f\u5b9e\u4e3b\u9898\uff08real subject\uff09\u7c7b\uff1a\u5b9e\u73b0\u62bd\u8c61\u4e3b\u9898\u7684\u5177\u4f53\u4e1a\u52a1\uff0c\u662f\u4ee3\u7406\u5bf9\u8c61\u4ee3\u8868\u7684\u771f\u5b9e\u5bf9\u8c61\uff0c\u662f\u6700\u7ec8\u8981\u5f15\u7528\u7684\u5bf9\u8c61\u3002"}),"\n",(0,a.jsx)(r.li,{children:"\u4ee3\u7406\uff08proxy\uff09\u7c7b\uff1a\u63d0\u4f9b\u4e86\u4e0e\u771f\u5b9e\u4e3b\u9898\u76f8\u540c\u7684\u63a5\u53e3\uff0c\u5185\u90e8\u542b\u6709\u771f\u5b9e\u4e3b\u9898\u7684\u5f15\u7528\uff0c\u53ef\u4ee5\u8bbf\u95ee\u3001\u63a7\u5236\u3001\u6269\u5c55\u771f\u5b9e\u4e3b\u9898\u3002"}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"\u9759\u6001\u4ee3\u7406",children:"\u9759\u6001\u4ee3\u7406"}),"\n",(0,a.jsx)(r.p,{children:"\u4ee5\u4ee3\u552e\u70b9\u4e70\u706b\u8f66\u7968\u4e3a\u4f8b\u5b50\uff1a"}),"\n",(0,a.jsx)(r.p,{children:"\u62bd\u8c61\u4e3b\u9898\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"public interface SellTickets {\r\n    void sell();\r\n}\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u771f\u5b9e\u4e3b\u9898\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public class TrainStation implements SellTickets{\r\n    @Override\r\n    public void sell() {\r\n        System.out.println("\u706b\u8f66\u7ad9\u5356\u7968");\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u4ee3\u7406\u5bf9\u8c61\uff0c\u6269\u5c55\u771f\u5b9e\u4e3b\u9898\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public class ProxyPoint implements SellTickets {\r\n    TrainStation trainStation=new TrainStation();\r\n    @Override\r\n    public void sell() {\r\n        System.out.println("\u66ff\u987e\u5ba2\u53bb\u706b\u8f66\u7ad9\u4e70\u7968");\r\n        trainStation.sell();\r\n        System.out.println("\u4ee3\u552e\u70b9\u66ff\u987e\u5ba2\u4e70\u4e86\u7968");\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u6d4b\u8bd5\u7c7b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"public class Client {\r\n    public static void main(String[] args) {\r\n        ProxyPoint proxyPoint=new ProxyPoint();\r\n        proxyPoint.sell();\r\n    }\r\n}\n"})}),"\n",(0,a.jsx)(r.h3,{id:"jdk-\u52a8\u6001\u4ee3\u7406",children:"JDK \u52a8\u6001\u4ee3\u7406"}),"\n",(0,a.jsx)(r.p,{children:"java \u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u52a8\u6001\u4ee3\u7406\u7c7b Proxy\uff0c\u901a\u8fc7\u5b83\u7684 newProxyInstance \u65b9\u6cd5\u83b7\u53d6\u4ee3\u7406\u5bf9\u8c61"}),"\n",(0,a.jsx)(r.p,{children:"newProxyInstance \u65b9\u6cd5\u7684\u4e09\u4e2a\u53c2\u6570"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"/*\r\n    ClassLoader loader : \u7c7b\u52a0\u8f7d\u5668\uff0c\u7528\u4e8e\u52a0\u8f7d\u4ee3\u7406\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u76ee\u6807\u5bf9\u8c61\u83b7\u53d6\r\n    Class<?>[] interfaces \uff1a \u4ee3\u7406\u7c7b\u5b9e\u73b0\u7684\u63a5\u53e3\u7684\u5b57\u8282\u7801\u5bf9\u8c61\r\n    InvocationHandler h \uff1a \u4ee3\u7406\u5bf9\u8c61\u7684\u8c03\u7528\u5904\u7406\u7a0b\u5e8f\r\n*/\r\npublic static Object newProxyInstance(ClassLoader loader,\r\n                                        Class<?>[] interfaces,\r\n                                        InvocationHandler h)\n"})}),"\n",(0,a.jsx)(r.p,{children:"InvocationHandler \u7684 invoke \u65b9\u6cd5"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"/*\r\n    Object proxy \uff1a \u4ee3\u7406\u5bf9\u8c61\uff0c\u548cproxyObject\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\r\n    Method method \uff1a \u5bf9\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u8fdb\u884c\u5c01\u88c5\u7684 method \u5bf9\u8c61\r\n    Object[] args \uff1a \u8c03\u7528\u65b9\u6cd5\u7684\u5b9e\u9645\u53c2\u6570\r\n    \u8fd4\u56de\u503c Object\uff0c\u82e5\u4ee3\u7406\u7684\u65b9\u6cd5\u8fd4\u56de\u4e3a\u7a7a\uff0c\u8fd4\u56denull\r\n*/\r\npublic Object invoke(Object proxy, Method method, Object[] args)\r\n    throws Throwable;\n"})}),"\n",(0,a.jsx)(r.p,{children:"jdk \u4ee3\u7406\u5de5\u5382"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'import java.lang.reflect.InvocationHandler;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.reflect.Proxy;\r\n\r\npublic class ProxyFactory {\r\n    TrainStation trainStation=new TrainStation();\r\n    public SellTickets getProxyObject(){\r\n        /*\r\n            ClassLoader loader : \u7c7b\u52a0\u8f7d\u5668\uff0c\u7528\u4e8e\u52a0\u8f7d\u4ee3\u7406\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u76ee\u6807\u5bf9\u8c61\u83b7\u53d6\r\n            Class<?>[] interfaces \uff1a \u4ee3\u7406\u7c7b\u5b9e\u73b0\u7684\u63a5\u53e3\u7684\u5b57\u8282\u7801\u5bf9\u8c61\r\n            InvocationHandler h \uff1a \u4ee3\u7406\u5bf9\u8c61\u7684\u8c03\u7528\u5904\u7406\u7a0b\u5e8f\r\n         */\r\n        SellTickets proxyObject = (SellTickets)Proxy.newProxyInstance(\r\n                trainStation.getClass().getClassLoader(),\r\n                trainStation.getClass().getInterfaces(),\r\n                /*\r\n                    \u533f\u540d\u5185\u90e8\u7c7b\uff0c\u91cd\u5199\u62bd\u8c61\u65b9\u6cd5\r\n                    Object proxy \uff1a \u4ee3\u7406\u5bf9\u8c61\uff0c\u548cproxyObject\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\r\n                    Method method \uff1a \u5bf9\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u8fdb\u884c\u5c01\u88c5\u7684 method \u5bf9\u8c61\r\n                    Object[] args \uff1a \u8c03\u7528\u65b9\u6cd5\u7684\u5b9e\u9645\u53c2\u6570\r\n                    \u8fd4\u56de\u503c\u4e3a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\r\n                 */\r\n                new InvocationHandler() {\r\n                    @Override\r\n                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                        //\u5bf9\u65b9\u6cd5\u8fdb\u884c\u589e\u5f3a\r\n                        System.out.println("jdk\u52a8\u6001\u4ee3\u7406\u66ff\u987e\u5ba2\u53bb\u706b\u8f66\u7ad9\u4e70\u7968");\r\n                        //\u6267\u884c\u76ee\u6807\u5bf9\u8c61\u7684\u65b9\u6cd5\r\n                        Object obj = method.invoke(trainStation, args);\r\n                        System.out.println("jdk\u52a8\u6001\u4ee3\u7406\u4ee3\u552e\u70b9\u66ff\u987e\u5ba2\u4e70\u4e86\u7968");\r\n                        return obj; //null\r\n                    }\r\n                }\r\n        );\r\n\r\n        return proxyObject;\r\n\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u53cd\u7f16\u8bd1\u540e\u5f97\u5230\u7684\u4ee3\u7406\u7c7b\u5982\u4e0b\uff08\u5220\u9664\u4e86 equals, toString, hashcode \u65b9\u6cd5\uff09"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'import java.lang.reflect.InvocationHandler;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.reflect.Proxy;\r\nimport java.lang.reflect.UndeclaredThrowableException;\r\nimport jdkproxy.SellTickets;\r\n\r\npublic final class $Proxy0\r\n        extends Proxy\r\n        implements SellTickets {\r\n    private static Method m3;\r\n\r\n    public $Proxy0(InvocationHandler invocationHandler) {\r\n        super(invocationHandler);\r\n    }\r\n\r\n    static {\r\n        try {\r\n            m3 = Class.forName("jdkproxy.SellTickets").getMethod("sell", new Class[0]);\r\n            return;\r\n        }\r\n        catch (NoSuchMethodException noSuchMethodException) {\r\n            throw new NoSuchMethodError(noSuchMethodException.getMessage());\r\n        }\r\n        catch (ClassNotFoundException classNotFoundException) {\r\n            throw new NoClassDefFoundError(classNotFoundException.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    public final void sell() {\r\n        try {\r\n            this.h.invoke(this, m3, null);\r\n            return;\r\n        }\r\n        catch (Error | RuntimeException throwable) {\r\n            throw throwable;\r\n        }\r\n        catch (Throwable throwable) {\r\n            throw new UndeclaredThrowableException(throwable);\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u6d4b\u8bd5\u7c7b"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"public class Client {\r\n    public static void main(String[] args) {\r\n        // 1. \u521b\u5efa\u4ee3\u7406\u5de5\u5382\u5bf9\u8c61\r\n        ProxyFactory factory=new ProxyFactory();\r\n        // 2. \u83b7\u53d6\u4ee3\u7406\u5bf9\u8c61\r\n        SellTickets proxyObject = factory.getProxyObject();\r\n        // 3. \u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u65b9\u6cd5\r\n        proxyObject.sell();\r\n\r\n        Class<? extends SellTickets> clazz = proxyObject.getClass();\r\n        System.out.println(clazz);\r\n        while(true){}\r\n    }\r\n}\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5b9e\u73b0\u8fc7\u7a0b\uff1a\u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684 sell \u65b9\u6cd5\uff0c\u4ee3\u7406\u7c7b\u8c03\u7528\u4e86 InvocationHandler \u7684\u5b9e\u73b0\u7c7b\u7684 invoke \u65b9\u6cd5\uff0c invoke \u65b9\u6cd5\u901a\u8fc7\u53cd\u5c04\u6267\u884c\u771f\u5b9e\u5bf9\u8c61 TraiStation \u4e2d\u7684 sell \u65b9\u6cd5\u3002"}),"\n",(0,a.jsx)(r.h3,{id:"cglib-\u4ee3\u7406",children:"CGLib \u4ee3\u7406"}),"\n",(0,a.jsx)(r.p,{children:"\u5982\u679c\u524d\u9762\u7684\u4f8b\u5b50\u6ca1\u6709\u5b9a\u4e49 SellTickets \u63a5\u53e3\uff0c\u53ea\u5b9a\u4e49\u4e86 TrainStation \u5b9e\u73b0\u7c7b\uff0c\u5219\u65e0\u6cd5\u4f7f\u7528 JDK \u52a8\u6001\u4ee3\u7406\uff0c\u56e0\u4e3a JDK \u52a8\u6001\u4ee3\u7406\u662f\u5bf9\u63a5\u53e3\u8fdb\u884c\u4ee3\u7406\u3002"}),"\n",(0,a.jsx)(r.p,{children:"CGLib \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u9ad8\u6027\u80fd\u7684\u4ee3\u7801\u751f\u6210\u5305\uff0c\u4e3a\u6ca1\u6709\u5b9e\u73b0\u63a5\u53e3\u7684\u7c7b\u63d0\u4f9b\u4ee3\u7406"}),"\n",(0,a.jsx)(r.p,{children:"\u73b0\u5728\u771f\u5b9e\u4e3b\u9898\u4e0d\u9700\u8981\u5b9e\u73b0\u63a5\u53e3\u4e86"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public class TrainStation {\r\n    public void sell() {\r\n        System.out.println("\u706b\u8f66\u7ad9\u5356\u7968");\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u521b\u5efa Enhancer \u5bf9\u8c61\uff0c\u7c7b\u4f3c JDK \u4ee3\u7406\u7684 Proxy \u7c7b\u3002\u8bbe\u7f6e\u7236\u7c7b\u7684\u5b57\u8282\u7801\u5bf9\u8c61\uff0c\u8fd4\u56de\u7684\u662f\u5b83\u6216\u5b83\u7684\u5b50\u7c7b\u3002\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0c\u4f20\u5165this\uff0c\u56e0\u4e3a\u5de5\u5382\u7c7b\u7ee7\u627f\u4e86MethodInterceptor\uff0c\u5b9e\u73b0\u4e86intercept\u65b9\u6cd5\uff0c\u901a\u8fc7\u4ee3\u7406\u5bf9\u8c61\u8c03\u7528 sell \u65b9\u6cd5\u5b9e\u9645\u6267\u884c\u7684\u662f intercept \u65b9\u6cd5\u3002"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'import net.sf.cglib.proxy.Enhancer;\r\nimport net.sf.cglib.proxy.MethodInterceptor;\r\nimport net.sf.cglib.proxy.MethodProxy;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\npublic class ProxyFactory implements MethodInterceptor {\r\n    TrainStation trainStation=new TrainStation();\r\n\r\n    public TrainStation getProxyObject(){\r\n        // \u521b\u5efa Enhancer \u5bf9\u8c61\r\n        Enhancer enhancer=new Enhancer();\r\n        // \u8bbe\u7f6e\u7236\u7c7b\u7684\u5b57\u8282\u7801\u5bf9\u8c61\r\n        enhancer.setSuperclass(TrainStation.class);\r\n        // \u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\r\n        enhancer.setCallback(this);\r\n        // \u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\r\n        TrainStation proxyObject=(TrainStation) enhancer.create();\r\n        return proxyObject;\r\n\r\n    }\r\n\r\n    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\r\n        //\u5bf9\u65b9\u6cd5\u8fdb\u884c\u589e\u5f3a\r\n        System.out.println("cglib\u52a8\u6001\u4ee3\u7406\u66ff\u987e\u5ba2\u53bb\u706b\u8f66\u7ad9\u4e70\u7968");\r\n        Object obj = method.invoke(trainStation, objects);\r\n        System.out.println("cglib\u52a8\u6001\u4ee3\u7406\u4ee3\u552e\u70b9\u66ff\u987e\u5ba2\u4e70\u4e86\u7968");\r\n        return obj;\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u6d4b\u8bd5\u7c7b"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"public class Client {\r\n    public static void main(String[] args) {\r\n        ProxyFactory proxyFactory=new ProxyFactory();\r\n        TrainStation proxyObject = proxyFactory.getProxyObject();\r\n        proxyObject.sell();\r\n    }\r\n}\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"\u4e09\u79cd\u4ee3\u7406\u5bf9\u6bd4",children:"\u4e09\u79cd\u4ee3\u7406\u5bf9\u6bd4"}),"\n",(0,a.jsx)(r.p,{children:"cglib \u5e95\u5c42\u4f7f\u7528 ASM \u5b57\u8282\u7801"})]})}function p(n={}){const{wrapper:r}={...(0,l.R)(),...n.components};return r?(0,a.jsx)(r,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>i,x:()=>o});var t=e(6540);const a={},l=t.createContext(a);function i(n){const r=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function o(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),t.createElement(l.Provider,{value:r},n.children)}}}]);